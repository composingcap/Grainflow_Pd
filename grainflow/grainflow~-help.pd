#N canvas 492 471 769 609 12;
#X obj 511 50 soundfiler;
#X obj 92 374 dac~;
#X obj 263 205 sig~ 0;
#X obj 23 41 tgl 19 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 511 75 array define _gf_buf;
#X msg 511 29 read -resize ./bells.wav _gf_buf;
#X obj 511 4 loadbang;
#X obj 90 104 phasor~ 8;
#X text 49 40 State;
#X text 188 71 Grain clock;
#X text 293 135 Traversal phasor;
#X floatatom 264 183 5 0 0 0 - - - 0;
#X obj 349 228 sig~ 0;
#X floatatom 349 203 5 0 0 0 - - - 0;
#X text 302 178 Transposition modulation signal;
#X text 401 202 Amplitude modulation signal;
#X text 195 295 <- Will be replaced with panner;
#X text 19 3 Grainflow~ - Granulate arrays;
#N canvas 1078 450 502 300 refrence 0;
#X text 11 5 grainflow~;
#X text 97 4 - granulate arrays;
#X restore 252 2 pd refrence;
#X floatatom 179 134 15 0 0 0 - - - 0;
#X floatatom 90 72 12 0 0 0 - - - 0;
#X obj 94 340 +~;
#X obj 179 157 phasor~ 0.2;
#X obj 2 225 r _gf_params;
#N canvas 130 130 450 300 envelopes 0;
#X restore 359 3 pd envelopes;
#N canvas 1132 622 653 678 parameters 1;
#X obj 18 191 s _gf_params;
#X msg 93 150 delayRandom \$1;
#X floatatom 93 123 5 0 0 0 - - - 0;
#X text 10 60 For example \, here are the messages for the delay parameter;
#X floatatom 19 123 5 0 0 0 - - - 0;
#X msg 19 150 delay \$1;
#X floatatom 218 122 5 0 0 0 - - - 0;
#X msg 218 149 delayOffset \$1;
#X text 311 118 <= sets delay time in ms;
#X text 8 -1 Grainflow~ is controlled primaraly through parameter messages that control the properties of each grain. Each parameter has a base \, random \, and offset value. base: sets a fixed value random: sets a random value on each new grain offset: sets values that are scaled by the index of each grain, f 80;
#X text 17 217 Parameters can also be set in lists. These lists will rotate so that they repeat until each grain has a value, f 73;
#X text 17 376 ---A list of parameters--- delay- delay time in ms rate- changes play speed in terms of rate transpose- changes play speed in semitones glisson- changes the rate over the duration of the grain glissonSt- glisson in semitones space- sets the amount of empty space at the end of each grain (0-1) amp- changes the volume in amps window- sets the position of each grain on the phasor (0-1), f 74;
#X obj 25 348 s _gf_params;
#X obj 25 324 list prepend transpose;
#X obj 25 300 pack 0 0 0 0, f 50;
#X floatatom 25 272 5 0 0 0 - - - 0;
#X floatatom 140 271 5 0 0 0 - - - 0;
#X floatatom 254 273 5 0 0 0 - - - 0;
#X floatatom 369 275 5 0 0 0 - - - 0;
#X text 18 531 These parameters only have base messages: density- the probability a grain will fire (0-1) direction- sets the probability a grain will play forwards or backwards rateQuantizeSemi- quantizes transposition values to a number of semitones, f 74;
#X obj 94 78 loadbang;
#X msg 93 99 200;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X connect 13 0 12 0;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X connect 16 0 14 1;
#X connect 17 0 14 2;
#X connect 18 0 14 3;
#X connect 20 0 21 0;
#X connect 21 0 2 0;
#X restore 252 29 pd parameters;
#X obj 93 257 grainflow~ _gf_buf 8, f 37;
#X obj 93 295 snake~ out 8;
#X connect 2 0 26 2;
#X connect 3 0 26 0;
#X connect 5 0 0 0;
#X connect 6 0 5 0;
#X connect 7 0 26 0;
#X connect 11 0 2 0;
#X connect 12 0 26 3;
#X connect 13 0 12 0;
#X connect 19 0 22 0;
#X connect 20 0 7 0;
#X connect 21 0 1 0;
#X connect 21 0 1 1;
#X connect 22 0 26 1;
#X connect 23 0 26 0;
#X connect 26 0 27 0;
#X connect 27 0 21 0;
#X connect 27 1 21 0;
#X connect 27 2 21 0;
#X connect 27 3 21 0;
#X connect 27 4 21 0;
#X connect 27 5 21 0;
#X connect 27 6 21 0;
#X connect 27 7 21 0;
