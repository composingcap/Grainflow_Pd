#N canvas 328 148 1400 884 12;
#X declare -lib pdlua;
#X declare -path ./Grainflow_Pd/grainflow;
#X declare -path ./assets;
#X obj 6 34 cnv 15 685 8 empty empty Grainflow.waveform 20 -12 0 30 #000000 #373737 0;
#X obj 46 251 phasor~ 8;
#X floatatom 234 260 3 0 0 1 Traversal\ Phasor - - 16;
#X floatatom 46 224 7 0 0 1 Grain\ Clock - - 0;
#X obj 234 291 phasor~ 0.2;
#X obj 59 325 r _gf_params;
#X msg 48 147 state \$1;
#X obj 46 175 loadbang;
#X msg 48 199 8;
#X obj 234 210 loadbang;
#X msg 234 234 0.2;
#X msg 724 650 ngrains \$1;
#X obj 724 624 nbx 4 18 0 8 0 0 empty empty ngrains 0 -8 0 10 #e4e4e4 #4d4d4d #373737 0 256;
#X obj 49 107 tgl 25 0 empty empty empty 17 7 0 10 #e4e4e4 #4d4d4d #373737 0 1;
#X text 77 106 <= Start grainflow;
#X obj 46 602 *~ 0.25;
#X obj 46 572 grainflow.stereoPan~ 0.5 1;
#X obj 46 632 dac~ 1;
#X obj 46 369 grainflow~ waveformBuffer 8, f 37;
#N canvas 471 409 1043 255 _loadBuffers 0;
#X obj 277 213 soundfiler;
#X obj 277 101 loadbang;
#X obj 278 259 array define waveformBuffer;
#X obj 278 287 array define waveformBuffer2;
#X msg 277 132 read -resize spirt48.wav waveformBuffer;
#X msg 315 178 read -resize ballonTinCan.wav waveformBuffer2;
#X connect 1 0 5 0;
#X connect 1 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X restore 509 9 pd _loadBuffers;
#N canvas 117 38 1164 1017 reference 0;
#X obj 14 21 cnv 15 600 9 empty empty ARGS: 0 20 0 14 #000000 #373737 0;
#X obj 14 147 cnv 15 600 9 empty empty INLETS: 0 20 0 14 #000000 #373737 0;
#X obj 14 266 cnv 15 600 9 empty empty OUTLETS: 0 20 0 14 #000000 #373737 0;
#X text 38 314 (list) Grain Info;
#X text 14 179 (mc sig) Grain Clock: controls the lifetime of all of the grains, f 69;
#X text 14 198 (mc sig )Traversal Phasor: Controls the initial sampling position in the array, f 79;
#X text 14 217 (mc sig) Transposition Modulation;
#X text 14 236 (mc sig) Amplitude Modulation;
#X text 38 295 (mc sig) Grains;
#X text 38 334 (mc sig) State;
#X text 186 295 (mc sig) Array Position;
#X text 38 354 (mc sig) Lifetime;
#X text 186 322 (mc sig) Buffer Channel;
#X text 186 347 (mc sig) Stream ID;
#X obj 14 386 cnv 15 600 9 empty empty PARAMS: 0 20 0 14 #000000 #373737 0;
#X text 14 444 delay- delay time in ms;
#X text 14 468 rate- changes play speed in terms of rate;
#X text 14 492 transpose-rate in semitones;
#X text 14 516 glisson- rate over the duration of the grain;
#X text 14 540 glissonSt- glisson in semitones;
#X text 14 564 amp- changes the volume in amps;
#X text 14 588 space- empty space at the end of each grain (0-1);
#X text 14 660 density- the probability a grain will fire (0-1);
#X text 14 772 rateQuantizeSemi- quantizes transposition values to a number of semitones, f 74;
#X text 14 684 direction- probability or the direction of playback(-1 - 1);
#X obj 14 797 cnv 15 600 9 empty empty MESSAGES: 0 20 0 14 #000000 #373737 0;
#X text 14 420 (many have random and offset varients);
#X text 14 902 deviate {param} {f1} {f2} : randomly asigns a value to each grain f1 distance from f2., f 85;
#X text 14 926 spread {param} {f1} {f2} : evenly distributes values from f1 to f2, f 71;
#X text 14 950 g {n} {param} {f} : set a param for a single grain, f 71;
#X text 14 1017 streamSet {mode} {n} : asigns n streams in mode auto \, per \, or random, f 71;
#X text 14 1040 stream {param} {f} : sets a param for all grains in a stream;
#X text 14 1063 streamDeviate {param} {f1} {f2}: deviate for streams, f 71;
#X text 14 1086 streamSpread {param} {f1} {f2}: spread for streams, f 65;
#X obj 14 985 cnv 15 600 8 empty empty STREAMS: 0 20 0 14 #000000 #373737 0;
#X obj 14 1113 cnv 15 500 8 empty empty ARRAYS: 0 20 0 14 #000000 #373737 0;
#X text 159 295 4;
#X text 14 295 0;
#X text 14 1147 buf {name} : Array to granulate;
#X text 14 1169 env {name} {n} : array to be used as an envelope. n determines the number of envelopes contained in a 2D envelope., f 71;
#X text 14 1207 delayBuffer {name} : used if delayMode is set to 1 or 2;
#X text 14 1230 rateBuffer {name} : used if rateMode is set to 1 or 2;
#X text 14 1253 windowBuffer {name} : used if windowMode is set to 1 or 2;
#X text 14 1276 glissonBuffer {name} {n} : used if glisson mode is set to 1 n determines the number of envelopes contained in a 2D array., f 73;
#X text 14 708 {envelope | glisson}Position - sets the position to sample a 2D envelope | glisson, f 82;
#X text 14 612 window- position of each grain window (0-1), f 48;
#X text 14 732 {delay|window|rate|glisson}Mode - 0 is normal. 1 samples buffer based on grain. 2 samples buffer randomly, f 86;
#X text 14 878 autoOverlap {i}- sets windowOffset to 1/ngrains if i >= 1;
#X text 14 854 ngrains {i}- the number of active grains;
#X text 14 831 state {i}- toggles audio proccessing;
#X text 14 636 ---The following only have base version---;
#X text 14 52 buffer-name- array to granulate;
#X text 14 70 max-grains- the maximum number of grains that can be used;
#X text 14 91 (optional)envelope-name- array that can be used for an envelope, f 73;
#X text 14 111 (optional)flags- parameters set on initialization in the format -param arg1.. argn, f 83;
#X text 14 -1 [grainflow~];
#X restore 399 9 pd reference;
#X obj 286 86 declare -lib pdlua;
#X text 234 610 sends out x and y position of the mouse on when pressed down;
#X text 238 637 useful if wanting to map to paramters such as traversal location;
#X listbox 234 572 12 0 0 0 - - - 0;
#N canvas 730 25 573 410 size 0;
#X floatatom 69 194 4 0 0 0 - - - 24;
#X obj 142 269 t b f;
#X floatatom 142 194 4 0 0 0 - - - 24;
#X text 76 153 width;
#X text 125 150 height;
#X text 30 16 The size message sets the object's size and takes width and height values in pixels., f 44;
#X obj 69 399 s waveform.helpfile;
#X msg 70 364 setsize \$1 \$2;
#N canvas 733 172 450 300 load 0;
#X obj 228 137 loadbang;
#X msg 240 177 300;
#X obj 222 306 outlet;
#X obj 419 308 outlet;
#X obj 312 306 outlet;
#X msg 312 172 100;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 5 0 3 0;
#X connect 5 0 4 0;
#X restore 201 162 pd load;
#X obj 69 318 pack 300 100;
#X connect 0 0 9 0;
#X connect 1 0 9 0;
#X connect 1 1 9 1;
#X connect 2 0 1 0;
#X connect 7 0 6 0;
#X connect 8 0 0 0;
#X connect 8 1 2 0;
#X connect 8 2 9 1;
#X connect 9 0 7 0;
#X restore 524 459 pd size;
#N canvas 710 92 787 617 colors 0;
#X text 21 20 you can change the RGB vaules for various paramters of grainflow.waveform. If using Plugdata you have an optional 4th vaule to control the alpha of the color.;
#X listbox 177 296 18 0 0 0 - - - 12;
#X obj 105 332 list store, f 13;
#X obj 105 293 bng 25 250 50 0 empty empty empty 17 7 0 10 #e4e4e4 #4d4d4d #373737;
#X obj 311 487 prepend waveformColor;
#X obj 305 644 prepend grainColor;
#X text 313 295 Formatt as RGB 0-255 value;
#X obj 103 487 prepend backgroundColor;
#X obj 491 487 prepend pointerColor;
#X obj 491 644 prepend recordingColor;
#X obj 576 194 pdlua;
#X obj 103 644 prepend borderColor;
#N canvas 733 172 450 300 colorPicker 0;
#X obj 223 38 cnv 15 29 134 empty \$0-colors empty 20 12 0 14 #ffffff #000000 0;
#X obj 9 38 hsl 208 19 0 255 0 0 empty empty Red -2 -8 0 12 #ff0000 #4d4d4d #373737 0 0;
#X obj 9 74 hsl 208 19 0 255 0 0 empty empty Green -2 -8 0 12 #00e400 #4d4d4d #373737 0 0;
#X obj 9 110 hsl 208 19 0 255 0 0 empty empty Blue -2 -8 0 12 #0000ff #4d4d4d #373737 0 0;
#X obj 9 153 hsl 208 19 0 1 0 0 empty empty alpha -2 -8 0 12 #ffffff #4d4d4d #373737 0 0;
#X text 88 134 Plugdata only!, f 18;
#X obj 23 434 pack f f f f, f 37;
#X obj 359 20 loadbang, f 9;
#X msg 362 71 1;
#X msg 414 72 255, f 5;
#X obj 249 359 t b f;
#X obj 180 359 t b f;
#X obj 93 359 t b f;
#X obj 23 315 int, f 5;
#X obj 93 315 int, f 5;
#X obj 180 315 int, f 5;
#X obj 23 475 outlet;
#X obj 93 726 s \$0-colors;
#X obj 93 507 makefilename %02x, f 18;
#X msg 93 647 symbol #\$1\$2\$3, f 16;
#X obj 93 610 pack symbol symbol symbol;
#X obj 140 543 makefilename %02x, f 18;
#X obj 190 580 makefilename %02x, f 18;
#X obj 93 475 unpack f f f, f 11;
#X msg 93 685 color \$1;
#X connect 1 0 13 0;
#X connect 2 0 14 0;
#X connect 3 0 15 0;
#X connect 4 0 10 0;
#X connect 6 0 16 0;
#X connect 6 0 23 0;
#X connect 7 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 9 0 1 0;
#X connect 9 0 2 0;
#X connect 9 0 3 0;
#X connect 10 0 6 0;
#X connect 10 1 6 3;
#X connect 11 0 6 0;
#X connect 11 1 6 2;
#X connect 12 0 6 0;
#X connect 12 1 6 1;
#X connect 13 0 6 0;
#X connect 14 0 12 0;
#X connect 15 0 11 0;
#X connect 18 0 20 0;
#X connect 19 0 24 0;
#X connect 20 0 19 0;
#X connect 21 0 20 1;
#X connect 22 0 20 2;
#X connect 23 0 18 0;
#X connect 23 1 21 0;
#X connect 23 2 22 0;
#X connect 24 0 17 0;
#X coords 0 0 1 1 257 175 1 0 0;
#X restore 88 70 pd colorPicker;
#X obj 103 445 spigot;
#X obj 126 405 tgl 32 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 311 445 spigot;
#X obj 334 405 tgl 32 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 491 445 spigot;
#X obj 514 405 tgl 32 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 491 599 spigot;
#X obj 514 559 tgl 32 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 305 599 spigot;
#X obj 328 559 tgl 32 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 103 599 spigot;
#X obj 126 559 tgl 32 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 467 699 s waveform.helpfile;
#X connect 1 0 2 1;
#X connect 2 0 13 0;
#X connect 2 0 15 0;
#X connect 2 0 17 0;
#X connect 2 0 23 0;
#X connect 2 0 21 0;
#X connect 2 0 19 0;
#X connect 3 0 2 0;
#X connect 4 0 25 0;
#X connect 5 0 25 0;
#X connect 7 0 25 0;
#X connect 9 0 25 0;
#X connect 11 0 25 0;
#X connect 12 0 1 0;
#X connect 13 0 7 0;
#X connect 14 0 13 1;
#X connect 15 0 4 0;
#X connect 16 0 15 1;
#X connect 17 0 8 0;
#X connect 18 0 17 1;
#X connect 19 0 9 0;
#X connect 20 0 19 1;
#X connect 21 0 5 0;
#X connect 22 0 21 1;
#X connect 23 0 11 0;
#X connect 24 0 23 1;
#X coords 0 0 1 1 85 60 0;
#X restore 522 500 pd colors;
#X obj 173 398 r waveform.helpfile;
#X text 646 244 ^this one uses two buffers;
#X text 645 263 you can visualize multiple arrays in one waveform;
#X obj 286 114 declare -path ./Grainflow_Pd/grainflow;
#X obj 638 9 pdlua;
#X obj 286 54 declare -path ./assets;
#X msg 544 214 buf waveformBuffer waveformBuffer2, f 42;
#X msg 544 182 buf waveformBuffer, f 19;
#X msg 700 182 buf waveformBuffer2;
#X obj 544 245 s _gf_params;
#X obj 720 425 pr.slider grainsize 0 3000 ms;
#X obj 720 480 pr.slider delayRandom 0 1000 ms;
#X obj 721 530 pr.slider ampRandom 0 1;
#X obj 704 583 s _gf_params;
#X obj 404 281 sig~;
#N canvas 733 172 450 300 switch~ 0;
#X obj 370 452 *~;
#X obj 448 452 *~;
#X obj 293 334 !- 1;
#X obj 293 363 sig~;
#X obj 243 363 sig~;
#X obj 370 487 +~, f 7;
#X obj 243 256 inlet;
#X obj 381 283 inlet~;
#X obj 459 283 inlet~;
#X obj 370 532 outlet~;
#X connect 0 0 5 0;
#X connect 1 0 5 1;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 9 0;
#X connect 6 0 2 0;
#X connect 6 0 4 0;
#X connect 7 0 0 1;
#X connect 8 0 1 1;
#X restore 157 325 pd switch~;
#X f 33;
#X obj 404 251 r mousePos;
#X obj 328 572 s mousePos;
#X obj 328 543 unpack;
#X obj 724 680 s _gf_params;
#X msg 956 76 \; grainsize 100 \; delayRandom 400 \; ampRandom 0.3 \;, f 22;
#X obj 956 44 loadbang;
#X obj 157 136 vradio 27 1 0 2 empty empty empty 0 -8 0 10 #e4e4e4 #4d4d4d #373737 0;
#X text 187 141 trav phasor;
#X text 187 171 waveform mouse pos;
#X obj 173 433 grainflow.waveform;
#X connect 1 0 18 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 42 1;
#X connect 5 0 18 0;
#X connect 6 0 18 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X connect 9 0 10 0;
#X connect 10 0 2 0;
#X connect 11 0 46 0;
#X connect 12 0 11 0;
#X connect 13 0 6 0;
#X connect 15 0 17 0;
#X connect 16 0 15 0;
#X connect 18 0 16 0;
#X connect 18 1 52 0;
#X connect 18 2 16 1;
#X connect 27 0 52 0;
#X connect 33 0 36 0;
#X connect 34 0 36 0;
#X connect 35 0 36 0;
#X connect 38 0 40 0;
#X connect 39 0 40 0;
#X connect 41 0 42 2;
#X connect 42 0 18 1;
#X connect 43 0 41 0;
#X connect 45 0 44 0;
#X connect 48 0 47 0;
#X connect 49 0 42 0;
#X connect 52 0 45 0;
#X connect 52 0 24 0;
